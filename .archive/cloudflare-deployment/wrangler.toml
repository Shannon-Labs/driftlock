# Cloudflare Workers Configuration for DriftLock API
# This file should be placed at the root of the api-worker directory

name = "driftlock-api"
main = "src/index.ts"
compatibility_date = "2024-01-01"

[vars]
SUPABASE_PROJECT_ID = "nfkdeeunyvnntvpvwpwh"
SUPABASE_URL = "https://nfkdeeunyvnntvpvwpwh.supabase.co"
SUPABASE_SERVICE_ROLE_KEY = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."

# Environment-specific variables
[env.production.vars]
ENVIRONMENT = "production"

[env.staging.vars]
ENVIRONMENT = "staging"

[[routes]]
pattern = "api.driftlock.com/*"
zone_name = "driftlock.com"

[observability.logs]
enabled = true

# D1 Database (if using Cloudflare DB instead of Supabase)
# [[d1_databases]]
# binding = "DB"
# database_name = "driftlock-db"
# database_id = "your-d1-database-id"
