name = "driftlock-api-gateway"
main = "src/index.ts"
compatibility_date = "2023-10-25"

# Environment variables for development
[vars]
ENV_SUPABASE_URL = "https://your-project.supabase.co"
ENV_GO_BACKEND_URL = "http://localhost:8080"  # Local dev backend URL

# Account and environment settings
workers_dev = true

# Routes for production deployment
# Uncomment when ready to deploy to driftlock.net
# [env.production.routes]
# pattern = "api.driftlock.net/*"
# zone_name = "driftlock.net"

# Production environment configuration
[env.production]
name = "driftlock-api-gateway-production"

[env.production.vars]
ENV_SUPABASE_URL = "https://your-project.supabase.co"  # Update with actual Supabase URL
ENV_GO_BACKEND_URL = "https://backend.driftlock.net"   # Update with actual backend URL

# Secrets to configure via wrangler secret put:
# - ENV_SUPABASE_SERVICE_ROLE_KEY
# - ENV_JWT_SECRET
# - ENV_STRIPE_WEBHOOK_SECRET