# github.com/Shannon-Labs/driftlock/collector-processor/cmd/driftlock-http.test
ld: warning: ignoring duplicate libraries: '-lcbad_core'
=== RUN   TestBillingStatusEndpoint
    e2e_billing_test.go:17: Failed to run migrations: ERROR 20251201000000_ai_cost_control.sql: failed to parse SQL migration file: failed to parse migration: unexpected state 0 on line "CREATE TABLE IF NOT EXISTS ai_cost_control_configs (", see https://github.com/pressly/goose#sql-migrations
--- FAIL: TestBillingStatusEndpoint (0.04s)
=== RUN   TestCheckoutSessionCreation
    e2e_billing_test.go:72: STRIPE_SECRET_KEY not set, skipping checkout test
--- SKIP: TestCheckoutSessionCreation (0.00s)
=== RUN   TestTrialCountdownAccuracy
    e2e_billing_test.go:135: Failed to run migrations: ERROR 20251201000000_ai_cost_control.sql: failed to parse SQL migration file: failed to parse migration: unexpected state 0 on line "CREATE TABLE IF NOT EXISTS ai_cost_control_configs (", see https://github.com/pressly/goose#sql-migrations
--- FAIL: TestTrialCountdownAccuracy (0.01s)
=== RUN   TestGracePeriodLogic
    e2e_billing_test.go:193: Failed to run migrations: ERROR 20251201000000_ai_cost_control.sql: failed to parse SQL migration file: failed to parse migration: unexpected state 0 on line "CREATE TABLE IF NOT EXISTS ai_cost_control_configs (", see https://github.com/pressly/goose#sql-migrations
--- FAIL: TestGracePeriodLogic (0.01s)
=== RUN   TestWebhookSignatureRequired
    e2e_billing_test.go:280: Failed to run migrations: ERROR 20251201000000_ai_cost_control.sql: failed to parse SQL migration file: failed to parse migration: unexpected state 0 on line "CREATE TABLE IF NOT EXISTS ai_cost_control_configs (", see https://github.com/pressly/goose#sql-migrations
--- FAIL: TestWebhookSignatureRequired (0.01s)
=== RUN   TestOnboardingFlow
    e2e_onboarding_test.go:12: Failed to run migrations: ERROR 20251201000000_ai_cost_control.sql: failed to parse SQL migration file: failed to parse migration: unexpected state 0 on line "CREATE TABLE IF NOT EXISTS ai_cost_control_configs (", see https://github.com/pressly/goose#sql-migrations
--- FAIL: TestOnboardingFlow (0.01s)
=== RUN   TestSignupValidation
    e2e_onboarding_test.go:89: Failed to run migrations: ERROR 20251201000000_ai_cost_control.sql: failed to parse SQL migration file: failed to parse migration: unexpected state 0 on line "CREATE TABLE IF NOT EXISTS ai_cost_control_configs (", see https://github.com/pressly/goose#sql-migrations
--- FAIL: TestSignupValidation (0.01s)
=== RUN   TestDuplicateEmailRejected
    e2e_onboarding_test.go:143: Failed to run migrations: ERROR 20251201000000_ai_cost_control.sql: failed to parse SQL migration file: failed to parse migration: unexpected state 0 on line "CREATE TABLE IF NOT EXISTS ai_cost_control_configs (", see https://github.com/pressly/goose#sql-migrations
--- FAIL: TestDuplicateEmailRejected (0.01s)
=== RUN   TestVerificationTokenValidation
    e2e_onboarding_test.go:169: Failed to run migrations: ERROR 20251201000000_ai_cost_control.sql: failed to parse SQL migration file: failed to parse migration: unexpected state 0 on line "CREATE TABLE IF NOT EXISTS ai_cost_control_configs (", see https://github.com/pressly/goose#sql-migrations
--- FAIL: TestVerificationTokenValidation (0.01s)
=== RUN   TestSignupRateLimiting
    e2e_onboarding_test.go:187: Failed to run migrations: ERROR 20251201000000_ai_cost_control.sql: failed to parse SQL migration file: failed to parse migration: unexpected state 0 on line "CREATE TABLE IF NOT EXISTS ai_cost_control_configs (", see https://github.com/pressly/goose#sql-migrations
--- FAIL: TestSignupRateLimiting (0.01s)
=== RUN   TestAPIKeyAuthAfterVerification
    e2e_onboarding_test.go:225: Failed to run migrations: ERROR 20251201000000_ai_cost_control.sql: failed to parse SQL migration file: failed to parse migration: unexpected state 0 on line "CREATE TABLE IF NOT EXISTS ai_cost_control_configs (", see https://github.com/pressly/goose#sql-migrations
--- FAIL: TestAPIKeyAuthAfterVerification (0.01s)
=== RUN   TestUnauthorizedDetection
    e2e_onboarding_test.go:287: Failed to run migrations: ERROR 20251201000000_ai_cost_control.sql: failed to parse SQL migration file: failed to parse migration: unexpected state 0 on line "CREATE TABLE IF NOT EXISTS ai_cost_control_configs (", see https://github.com/pressly/goose#sql-migrations
--- FAIL: TestUnauthorizedDetection (0.01s)
=== RUN   TestLoadLicenseValid
--- PASS: TestLoadLicenseValid (0.00s)
=== RUN   TestLoadLicenseInvalidSignature
--- PASS: TestLoadLicenseInvalidSignature (0.00s)
=== RUN   TestLoadLicenseExpired
--- PASS: TestLoadLicenseExpired (0.00s)
=== RUN   TestTenantRateLimiter_TenantLimit
--- PASS: TestTenantRateLimiter_TenantLimit (0.00s)
=== RUN   TestTenantRateLimiter_KeyLimit
--- PASS: TestTenantRateLimiter_KeyLimit (0.00s)
=== RUN   TestDecorateRateLimitHeaders
--- PASS: TestDecorateRateLimitHeaders (0.00s)
FAIL
FAIL	github.com/Shannon-Labs/driftlock/collector-processor/cmd/driftlock-http	0.538s
FAIL
